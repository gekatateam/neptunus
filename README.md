# pipeline

Заточен под событийную модель, поддерживает четыре вида плагинов:
 - входные - плагины-потребители данных снаружи
 - процессоры - плагины-преобразователи данных
 - выходные - плагины-отправители событий внешним потребителям
 - фильтры - плагины-фильтры событий

Поддерживает несколько одновременно работающих независимых пайплайнов.  
Поддерживает несколько параллельных линий процессоров в рамках одного пайплайна, для ситуаций, когда события читаются быстрее, чем обрабатываются в один "поток".  
  
Конфигурация делится на две части - на конфигурацию приложения и на пайплайны. Поддерживаются форматы `toml` и `yaml`.  
Пайплайн состоит из хотя бы одного инпута, хотя бы одного аутпута и, опционально процессоров. Каждому плагину можно назначить несколько фильтров, но только по одному каждого типа.  
Фильтр имеет один вход и два выхода - для прошедших фильтрацию и для отклоненных событий. В случае процессоров, отклоненные события отправляются дальше по пайплайну, не доходя до плагина. В случае инпутов и аутпутов, отклоненные события удаляются.

# TODO
## Common
 - [ ] ПОМЕНЯТЬ НАЗВАНИЕ
 - [ ] добавить плагины-парсеры для инпутов
 - [ ] добавить плагины-сериализаторы для аутпутов (тут можно обойтись гошными темплейтами?)
 - [ ] написать юниты строгой консистентности

## Inputs
 - [ ] кафка, чтение из партиции, чтение в группе консьюмеров
 - [ ] рэббит

## Outputs
Должны поддерживать буферизацию и батч отправку
 - [ ] кафка
 - [ ] рэббит
 - [ ] эластик
 - [ ] постгрес

## Filters
 - [ ] глобы для роутинг кея, полей и лейблов
 - [ ] больше (или равно), меньше (или равно), равно для чисел

## Procecssors
 - [ ] гроки
 - [ ] старларк
